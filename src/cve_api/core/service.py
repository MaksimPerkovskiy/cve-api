from __future__ import annotations
from typing import TYPE_CHECKING
if TYPE_CHECKING:
    from data_access.elasticsearch.repository import ElasticRepository
    from presentation.api.controllers.requests import SearchRequestModel


class GetConnectionInfoService:
    def __init__(self, elastic_repo: ElasticRepository) -> None:
        self._elastic_repo = elastic_repo
    
    def __call__(self):
        return self._elastic_repo.get_connection_info()


class SearchService:
    def __init__(self, elastic_repo: ElasticRepository) -> None:
        self._elastic_repo = elastic_repo
    
    def __call__(self, data: SearchRequestModel):
        self._elastic_repo.search_cves(data=data)
